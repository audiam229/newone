<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Built-in Calculator</title>
  <style>
    body{font-family:system-ui,Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;background:#f3f4f6}
    .calc{background:#fff;padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);width:340px}
    .display{background:#0b1220;color:#fff;padding:12px;border-radius:8px;font-size:28px;text-align:right;min-height:64px;overflow:hidden;word-wrap:break-word}
    .buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px}
    button{padding:16px;font-size:18px;border:0;border-radius:8px;background:#e6e7e9;cursor:pointer}
    button.op{background:#ff9f0a;color:#fff}
    button.equal{grid-column:span 2;background:#0a84ff;color:#fff}
    button.zero{grid-column:span 2}
    button:active{transform:translateY(1px)}
    .clipart{display:flex;justify-content:center;margin-top:18px}
    .clipart svg{width:260px;height:auto;filter:drop-shadow(0 6px 12px rgba(2,6,23,.08));}
  </style>
</head>
<body>
  <div class="calc" role="application" aria-label="Calculator">
    <div id="display" class="display" aria-live="polite">0</div>
    <div class="buttons">
      <button data-action="clear">C</button>
      <button data-action="back">⌫</button>
      <button data-value="%">%</button>
      <button data-value="/">÷</button>

      <button data-value="7">7</button>
      <button data-value="8">8</button>
      <button data-value="9">9</button>
      <button data-value="*">×</button>

      <button data-value="4">4</button>
      <button data-value="5">5</button>
      <button data-value="6">6</button>
      <button data-value="-">−</button>

      <button data-value="1">1</button>
      <button data-value="2">2</button>
      <button data-value="3">3</button>
      <button data-value="+">+</button>

      <button class="zero" data-value="0">0</button>
      <button data-value=".">.</button>
      <button class="equal" data-action="equals">=</button>
    </div>
  </div>

  <div class="clipart" aria-hidden="false" title="MV-22 Osprey clip art">
    <!-- stylized MV-22 Osprey clip art (SVG) -->
    <svg viewBox="0 0 640 240" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="MV-22 Osprey clip art">
      <!-- simplified stylized side-profile Osprey -->
      <g fill="none" stroke="#334155" stroke-linecap="round" stroke-linejoin="round" stroke-width="10">
        <path d="M60 150 q60 -40 140 -40 h200 q80 0 140 40" fill="#cbd5e1" stroke="#1f2937" stroke-width="6"/>
        <rect x="190" y="90" width="160" height="36" rx="8" fill="#0f172a" opacity="0.12"/>
        <rect x="170" y="116" width="220" height="18" rx="8" fill="#0f172a" opacity="0.08"/>
        <path d="M300 90 l40 -48" stroke="#0f172a" stroke-width="12" />
        <circle cx="90" cy="140" r="6" fill="#0f172a" />
        <circle cx="550" cy="140" r="6" fill="#0f172a" />
      </g>
      <g stroke="#0f172a" stroke-width="8" fill="#94a3b8">
        <!-- left rotor nacelle -->
        <ellipse cx="120" cy="64" rx="68" ry="18" transform="rotate(-6 120 64)"/>
        <rect x="60" y="56" width="120" height="16" rx="8" fill="#cbd5e1" opacity="0.9"/>
        <!-- right rotor nacelle -->
        <ellipse cx="520" cy="64" rx="68" ry="18" transform="rotate(6 520 64)"/>
        <rect x="460" y="56" width="120" height="16" rx="8" fill="#cbd5e1" opacity="0.9"/>
      </g>
      <g stroke="#0f172a" stroke-width="6" fill="#e2e8f0">
        <path d="M240 120 q40 -18 120 -18 q30 0 90 18" />
      </g>
    </svg>
  </div>

  <script>
  (function(){
    const display = document.getElementById('display');
    let expr = '';

    function updateDisplay(v){ display.textContent = v === '' || v == null ? '0' : v; }

    function append(s){
      if (expr === '0' && /[0-9.]/.test(s)) expr = s;
      else expr += s;
      updateDisplay(expr);
    }

    function sanitize(input){
      // allow digits, operators, parentheses, decimal, percent and spaces
      if (!/^[0-9+\-*/().% ]*$/.test(input)) throw new Error('Invalid characters');
      return input.replace(/×/g,'*').replace(/÷/g,'/');
    }

    function evaluateExpression(input){
      // convert percent to division by 100 (e.g. 50% -> 50/100)
      input = input.replace(/%/g, '/100');
      input = sanitize(input);
      try{
        // sanitized input only contains safe chars; evaluate with Function
        const fn = new Function('return ' + input);
        const result = fn();
        if (!isFinite(result)) throw new Error('Math error');
        return result;
      }catch(e){ throw new Error('Invalid expression'); }
    }

    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', () => {
        const val = btn.getAttribute('data-value');
        const action = btn.getAttribute('data-action');
        if (action === 'clear'){ expr = ''; updateDisplay('0'); return; }
        if (action === 'back'){ expr = expr.slice(0,-1); updateDisplay(expr||'0'); return; }
        if (action === 'equals'){
          if (!expr) return;
          try{
            const res = evaluateExpression(expr);
            expr = String(res);
            updateDisplay(expr);
          }catch(e){ updateDisplay('Error'); expr = ''; }
          return;
        }
        append(val);
      });
    });

    // keyboard support
    document.addEventListener('keydown', (e) => {
      if ((e.key >= '0' && e.key <= '9') || ['.','+','-','*','/','(',')','%'].includes(e.key)){
        append(e.key); e.preventDefault();
      } else if (e.key === 'Enter'){
        document.querySelector('[data-action="equals"]').click(); e.preventDefault();
      } else if (e.key === 'Backspace'){
        document.querySelector('[data-action="back"]').click(); e.preventDefault();
      } else if (e.key.toLowerCase() === 'c'){
        document.querySelector('[data-action="clear"]').click(); e.preventDefault();
      }
    });

  })();
  </script>
</body>
</html>
