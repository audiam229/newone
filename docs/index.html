<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Built-in Calculator</title>
  <style>
    body{font-family:system-ui,Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;background:#f3f4f6}
    .calc{background:#fff;padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);width:340px}
    .display{background:#0b1220;color:#fff;padding:12px;border-radius:8px;font-size:28px;text-align:right;min-height:64px;overflow:hidden;word-wrap:break-word}
    .buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px}
    button{padding:16px;font-size:18px;border:0;border-radius:8px;background:#e6e7e9;cursor:pointer}
    button.op{background:#ff9f0a;color:#fff}
    button.equal{grid-column:span 2;background:#0a84ff;color:#fff}
    button.zero{grid-column:span 2}
    button:active{transform:translateY(1px)}
    .clipart{display:flex;justify-content:center;margin-top:18px}
    .clipart svg{width:260px;height:auto;filter:drop-shadow(0 6px 12px rgba(2,6,23,.08));}
  </style>
</head>
<body>
  <div class="calc" role="application" aria-label="Calculator">
    <div id="display" class="display" aria-live="polite">0</div>
    <div class="buttons">
      <button data-action="clear">C</button>
      <button data-action="back">⌫</button>
      <button data-value="%">%</button>
      <button data-value="/">÷</button>

      <button data-value="7">7</button>
      <button data-value="8">8</button>
      <button data-value="9">9</button>
      <button data-value="*">×</button>

      <button data-value="4">4</button>
      <button data-value="5">5</button>
      <button data-value="6">6</button>
      <button data-value="-">−</button>

      <button data-value="1">1</button>
      <button data-value="2">2</button>
      <button data-value="3">3</button>
      <button data-value="+">+</button>

      <button class="zero" data-value="0">0</button>
      <button data-value=".">.</button>
      <button class="equal" data-action="equals">=</button>
    </div>
  </div>

  <div class="clipart" aria-hidden="false" title="MV-22 Osprey clip art">
    <!-- clearer stylized MV-22 Osprey (tiltrotor profile) -->
    <svg viewBox="0 0 800 260" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="MV-22 Osprey clip art">
      <!-- fuselage -->
      <g stroke="#1f2937" stroke-width="6" fill="#cbd5e1" stroke-linejoin="round">
        <path d="M160 140 C220 110, 420 110, 520 140 L560 150 C570 154,586 156,600 150 L620 144 L620 154 C600 170,560 176,520 176 L200 176 C160 176,130 164,120 152 L140 146 Z"/>
        <!-- cockpit -->
        <rect x="170" y="112" width="90" height="38" rx="8" fill="#0f172a" opacity="0.12"/>
      </g>

      <!-- wing and nacelles -->
      <g stroke="#0f1727" stroke-width="6" fill="#94a3b8">
        <rect x="280" y="80" width="240" height="18" rx="8"/>
        <!-- left nacelle -->
        <g transform="translate(260,70)">
          <ellipse cx="0" cy="0" rx="50" ry="20" fill="#bccad6"/>
          <rect x="-60" y="-12" width="120" height="24" rx="12" fill="#cbd5e1"/>
          <rect x="-70" y="-6" width="140" height="12" rx="6" fill="#94a3b8"/>
          <!-- rotor -->
          <g transform="translate(0,-36)">
            <rect x="-140" y="-6" width="280" height="12" rx="6" fill="#1f2937" opacity="0.12"/>
            <rect x="-120" y="-3" width="240" height="6" rx="3" fill="#111827" opacity="0.08"/>
          </g>
        </g>

        <!-- right nacelle -->
        <g transform="translate(540,70)">
          <ellipse cx="0" cy="0" rx="50" ry="20" fill="#bccad6"/>
          <rect x="-60" y="-12" width="120" height="24" rx="12" fill="#cbd5e1"/>
          <rect x="-70" y="-6" width="140" height="12" rx="6" fill="#94a3b8"/>
          <!-- rotor -->
          <g transform="translate(0,-36)">
            <rect x="-140" y="-6" width="280" height="12" rx="6" fill="#1f2937" opacity="0.12"/>
            <rect x="-120" y="-3" width="240" height="6" rx="3" fill="#111827" opacity="0.08"/>
          </g>
        </g>
      </g>

      <!-- tail -->
      <g stroke="#0f172a" stroke-width="5" fill="#cbd5e1">
        <path d="M620 150 L680 130 L680 134 L740 150 L680 166 L680 170 Z"/>
        <rect x="660" y="138" width="8" height="36" rx="2" fill="#94a3b8"/>
      </g>

      <!-- landing gear hints -->
      <g fill="#0f172a" opacity="0.12">
        <circle cx="210" cy="184" r="6"/>
        <circle cx="540" cy="184" r="6"/>
      </g>

      <!-- labels (for clarity) -->
      <g font-family="Arial, Helvetica, sans-serif" font-size="12" fill="#0f172a" opacity="0.6">
        <text x="168" y="96">Cockpit</text>
        <text x="310" y="68">Wing / Nacelles</text>
        <text x="660" y="128">Tail</text>
      </g>
    </svg>
  </div>

  <script>
  (function(){
    const display = document.getElementById('display');
    let expr = '';

    function updateDisplay(v){ display.textContent = v === '' || v == null ? '0' : v; }

    function append(s){
      if (expr === '0' && /[0-9.]/.test(s)) expr = s;
      else expr += s;
      updateDisplay(expr);
    }

    function sanitize(input){
      // allow digits, operators, parentheses, decimal, percent and spaces
      if (!/^[0-9+\-*/().% ]*$/.test(input)) throw new Error('Invalid characters');
      return input.replace(/×/g,'*').replace(/÷/g,'/');
    }

    function evaluateExpression(input){
      // convert percent to division by 100 (e.g. 50% -> 50/100)
      input = input.replace(/%/g, '/100');
      input = sanitize(input);
      try{
        // sanitized input only contains safe chars; evaluate with Function
        const fn = new Function('return ' + input);
        const result = fn();
        if (!isFinite(result)) throw new Error('Math error');
        return result;
      }catch(e){ throw new Error('Invalid expression'); }
    }

    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', () => {
        const val = btn.getAttribute('data-value');
        const action = btn.getAttribute('data-action');
        if (action === 'clear'){ expr = ''; updateDisplay('0'); return; }
        if (action === 'back'){ expr = expr.slice(0,-1); updateDisplay(expr||'0'); return; }
        if (action === 'equals'){
          if (!expr) return;
          try{
            const res = evaluateExpression(expr);
            expr = String(res);
            updateDisplay(expr);
          }catch(e){ updateDisplay('Error'); expr = ''; }
          return;
        }
        append(val);
      });
    });

    // keyboard support
    document.addEventListener('keydown', (e) => {
      if ((e.key >= '0' && e.key <= '9') || ['.','+','-','*','/','(',')','%'].includes(e.key)){
        append(e.key); e.preventDefault();
      } else if (e.key === 'Enter'){
        document.querySelector('[data-action="equals"]').click(); e.preventDefault();
      } else if (e.key === 'Backspace'){
        document.querySelector('[data-action="back"]').click(); e.preventDefault();
      } else if (e.key.toLowerCase() === 'c'){
        document.querySelector('[data-action="clear"]').click(); e.preventDefault();
      }
    });

  })();
  </script>
</body>
</html>
